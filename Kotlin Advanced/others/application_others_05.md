## 요구사항 분석
다음과 같은 연산을 반복한 결과를 2 ~ 100의 자연수에 대해 나타내시오.
* 짝수이면 2로 나눈다.
* 홀수이면 그 수에 3을 곱한 후 1을 더한다.
* 값이 1에 도달할 때까지 이것을 반복한다. (최대 10회. chain을 합쳤을 때 총 개수가 10개 이하이면 합치고, 그렇지 않으면 합쳐지는 지점의 값까지만 나타낸다.)

단, 같은 chain에 속하는 값들은 이어서 표시한다. 예를 들어 2 ~ 10의 자연수에 대해 나타내면 다음과 같다.
```kotlin
6 -> 3 -> 10 -> 5 -> 16 -> 8 -> 4 -> 2 -> 1
9 -> 28 -> 14 -> 7 -> 22 -> 11 -> 34 -> 17 -> 52 -> 26 // -> 13 -> 40 -> 20 -> 10 -> 5 -> 16 -> 8 -> 4 -> 2 -> 1
```

## 기본 코드
```kotlin
fun main() {
    val chains = mutableMapOf<Int, Int>(1 to 1)
    val limit = 10
    
    fun getNextNum(n: Int) = when (n % 2) {
        0 -> n / 2
        1 -> 3 * n + 1
        else -> -1 // no case with -1
    }
    
    for (i in 2..100) {
        val sequence = mutableListOf<Int>(i)
        var n = i
        
        while (true) {
            n = getNextNum(n)
            sequence.add(n)
            // println(sequence)
            
            if (sequence.size > limit) {
                sequence.forEach {
                    chains.put(it, -1)
                }
                break
            }
            
            if (n in chains.keys) {
                // println(n)
                sequence.forEachIndexed { idx, it ->
                    val chainSize = sequence.size - idx
                    val existingChainSize = chains.get(n)!!
                    val totalChainSize = chainSize + (existingChainSize - 1)
                        
                    if (existingChainSize == -1 || totalChainSize > limit) {
                        chains.put(sequence[idx], -1)
                    } else {
                        chains.put(sequence[idx], totalChainSize)
                    }
                }
                break
            }
        }
        // println(chains)
        
        // print result
        var num = i
        var resultText = "${i}"
        
        val count = chains.get(i)?.let {
            if (it == -1) { limit } else { it }
        } ?: 0
        
        for (j in 0 until count - 1) {
            num = getNextNum(num)
            resultText = "${resultText} -> ${num}"
        }
        println("${String.format("%03d", i)} (${String.format("%02d", count)}) : $resultText")
    }
}
```

## zip() 이용 코드
```kotlin
...

if (n in chains.keys) {
    // println(n)
    val existingChainSize = chains.get(n)!!
    val indices = (0 until sequence.size).toList()
                
    sequence.zip(indices) { num, idx ->
        val chainSize = sequence.size - idx
        val totalChainSize = chainSize + (existingChainSize - 1)
                        
        if (existingChainSize == -1 || totalChainSize > limit) {
            chains.put(num, -1)
        } else {
            chains.put(num, totalChainSize)
        }
    }
    break
}

...
```

## 실행 결과
```kotlin
002 (02) : 2 -> 1
003 (08) : 3 -> 10 -> 5 -> 16 -> 8 -> 4 -> 2 -> 1
004 (03) : 4 -> 2 -> 1
005 (06) : 5 -> 16 -> 8 -> 4 -> 2 -> 1
006 (09) : 6 -> 3 -> 10 -> 5 -> 16 -> 8 -> 4 -> 2 -> 1
007 (10) : 7 -> 22 -> 11 -> 34 -> 17 -> 52 -> 26 -> 13 -> 40 -> 20
008 (04) : 8 -> 4 -> 2 -> 1
009 (10) : 9 -> 28 -> 14 -> 7 -> 22 -> 11 -> 34 -> 17 -> 52 -> 26
010 (07) : 10 -> 5 -> 16 -> 8 -> 4 -> 2 -> 1
011 (10) : 11 -> 34 -> 17 -> 52 -> 26 -> 13 -> 40 -> 20 -> 10 -> 5
012 (10) : 12 -> 6 -> 3 -> 10 -> 5 -> 16 -> 8 -> 4 -> 2 -> 1
013 (10) : 13 -> 40 -> 20 -> 10 -> 5 -> 16 -> 8 -> 4 -> 2 -> 1
014 (10) : 14 -> 7 -> 22 -> 11 -> 34 -> 17 -> 52 -> 26 -> 13 -> 40
015 (10) : 15 -> 46 -> 23 -> 70 -> 35 -> 106 -> 53 -> 160 -> 80 -> 40
016 (05) : 16 -> 8 -> 4 -> 2 -> 1
017 (10) : 17 -> 52 -> 26 -> 13 -> 40 -> 20 -> 10 -> 5 -> 16 -> 8
018 (10) : 18 -> 9 -> 28 -> 14 -> 7 -> 22 -> 11 -> 34 -> 17 -> 52
019 (10) : 19 -> 58 -> 29 -> 88 -> 44 -> 22 -> 11 -> 34 -> 17 -> 52
020 (08) : 20 -> 10 -> 5 -> 16 -> 8 -> 4 -> 2 -> 1
021 (08) : 21 -> 64 -> 32 -> 16 -> 8 -> 4 -> 2 -> 1
022 (10) : 22 -> 11 -> 34 -> 17 -> 52 -> 26 -> 13 -> 40 -> 20 -> 10
023 (10) : 23 -> 70 -> 35 -> 106 -> 53 -> 160 -> 80 -> 40 -> 20 -> 10
024 (10) : 24 -> 12 -> 6 -> 3 -> 10 -> 5 -> 16 -> 8 -> 4 -> 2
025 (10) : 25 -> 76 -> 38 -> 19 -> 58 -> 29 -> 88 -> 44 -> 22 -> 11
026 (10) : 26 -> 13 -> 40 -> 20 -> 10 -> 5 -> 16 -> 8 -> 4 -> 2
027 (10) : 27 -> 82 -> 41 -> 124 -> 62 -> 31 -> 94 -> 47 -> 142 -> 71
028 (10) : 28 -> 14 -> 7 -> 22 -> 11 -> 34 -> 17 -> 52 -> 26 -> 13
029 (10) : 29 -> 88 -> 44 -> 22 -> 11 -> 34 -> 17 -> 52 -> 26 -> 13
030 (10) : 30 -> 15 -> 46 -> 23 -> 70 -> 35 -> 106 -> 53 -> 160 -> 80
031 (10) : 31 -> 94 -> 47 -> 142 -> 71 -> 214 -> 107 -> 322 -> 161 -> 484
032 (06) : 32 -> 16 -> 8 -> 4 -> 2 -> 1
033 (10) : 33 -> 100 -> 50 -> 25 -> 76 -> 38 -> 19 -> 58 -> 29 -> 88
034 (10) : 34 -> 17 -> 52 -> 26 -> 13 -> 40 -> 20 -> 10 -> 5 -> 16
035 (10) : 35 -> 106 -> 53 -> 160 -> 80 -> 40 -> 20 -> 10 -> 5 -> 16
036 (10) : 36 -> 18 -> 9 -> 28 -> 14 -> 7 -> 22 -> 11 -> 34 -> 17
037 (10) : 37 -> 112 -> 56 -> 28 -> 14 -> 7 -> 22 -> 11 -> 34 -> 17
038 (10) : 38 -> 19 -> 58 -> 29 -> 88 -> 44 -> 22 -> 11 -> 34 -> 17
039 (10) : 39 -> 118 -> 59 -> 178 -> 89 -> 268 -> 134 -> 67 -> 202 -> 101
040 (09) : 40 -> 20 -> 10 -> 5 -> 16 -> 8 -> 4 -> 2 -> 1
041 (10) : 41 -> 124 -> 62 -> 31 -> 94 -> 47 -> 142 -> 71 -> 214 -> 107
042 (09) : 42 -> 21 -> 64 -> 32 -> 16 -> 8 -> 4 -> 2 -> 1
043 (10) : 43 -> 130 -> 65 -> 196 -> 98 -> 49 -> 148 -> 74 -> 37 -> 112
044 (10) : 44 -> 22 -> 11 -> 34 -> 17 -> 52 -> 26 -> 13 -> 40 -> 20
045 (10) : 45 -> 136 -> 68 -> 34 -> 17 -> 52 -> 26 -> 13 -> 40 -> 20
046 (10) : 46 -> 23 -> 70 -> 35 -> 106 -> 53 -> 160 -> 80 -> 40 -> 20
047 (10) : 47 -> 142 -> 71 -> 214 -> 107 -> 322 -> 161 -> 484 -> 242 -> 121
048 (10) : 48 -> 24 -> 12 -> 6 -> 3 -> 10 -> 5 -> 16 -> 8 -> 4
049 (10) : 49 -> 148 -> 74 -> 37 -> 112 -> 56 -> 28 -> 14 -> 7 -> 22
050 (10) : 50 -> 25 -> 76 -> 38 -> 19 -> 58 -> 29 -> 88 -> 44 -> 22
051 (10) : 51 -> 154 -> 77 -> 232 -> 116 -> 58 -> 29 -> 88 -> 44 -> 22
052 (10) : 52 -> 26 -> 13 -> 40 -> 20 -> 10 -> 5 -> 16 -> 8 -> 4
053 (10) : 53 -> 160 -> 80 -> 40 -> 20 -> 10 -> 5 -> 16 -> 8 -> 4
054 (10) : 54 -> 27 -> 82 -> 41 -> 124 -> 62 -> 31 -> 94 -> 47 -> 142
055 (10) : 55 -> 166 -> 83 -> 250 -> 125 -> 376 -> 188 -> 94 -> 47 -> 142
056 (10) : 56 -> 28 -> 14 -> 7 -> 22 -> 11 -> 34 -> 17 -> 52 -> 26
057 (10) : 57 -> 172 -> 86 -> 43 -> 130 -> 65 -> 196 -> 98 -> 49 -> 148
058 (10) : 58 -> 29 -> 88 -> 44 -> 22 -> 11 -> 34 -> 17 -> 52 -> 26
059 (10) : 59 -> 178 -> 89 -> 268 -> 134 -> 67 -> 202 -> 101 -> 304 -> 152
060 (10) : 60 -> 30 -> 15 -> 46 -> 23 -> 70 -> 35 -> 106 -> 53 -> 160
061 (10) : 61 -> 184 -> 92 -> 46 -> 23 -> 70 -> 35 -> 106 -> 53 -> 160
062 (10) : 62 -> 31 -> 94 -> 47 -> 142 -> 71 -> 214 -> 107 -> 322 -> 161
063 (10) : 63 -> 190 -> 95 -> 286 -> 143 -> 430 -> 215 -> 646 -> 323 -> 970
064 (07) : 64 -> 32 -> 16 -> 8 -> 4 -> 2 -> 1
065 (10) : 65 -> 196 -> 98 -> 49 -> 148 -> 74 -> 37 -> 112 -> 56 -> 28
066 (10) : 66 -> 33 -> 100 -> 50 -> 25 -> 76 -> 38 -> 19 -> 58 -> 29
067 (10) : 67 -> 202 -> 101 -> 304 -> 152 -> 76 -> 38 -> 19 -> 58 -> 29
068 (10) : 68 -> 34 -> 17 -> 52 -> 26 -> 13 -> 40 -> 20 -> 10 -> 5
069 (10) : 69 -> 208 -> 104 -> 52 -> 26 -> 13 -> 40 -> 20 -> 10 -> 5
070 (10) : 70 -> 35 -> 106 -> 53 -> 160 -> 80 -> 40 -> 20 -> 10 -> 5
071 (10) : 71 -> 214 -> 107 -> 322 -> 161 -> 484 -> 242 -> 121 -> 364 -> 182
072 (10) : 72 -> 36 -> 18 -> 9 -> 28 -> 14 -> 7 -> 22 -> 11 -> 34
073 (10) : 73 -> 220 -> 110 -> 55 -> 166 -> 83 -> 250 -> 125 -> 376 -> 188
074 (10) : 74 -> 37 -> 112 -> 56 -> 28 -> 14 -> 7 -> 22 -> 11 -> 34
075 (10) : 75 -> 226 -> 113 -> 340 -> 170 -> 85 -> 256 -> 128 -> 64 -> 32
076 (10) : 76 -> 38 -> 19 -> 58 -> 29 -> 88 -> 44 -> 22 -> 11 -> 34
077 (10) : 77 -> 232 -> 116 -> 58 -> 29 -> 88 -> 44 -> 22 -> 11 -> 34
078 (10) : 78 -> 39 -> 118 -> 59 -> 178 -> 89 -> 268 -> 134 -> 67 -> 202
079 (10) : 79 -> 238 -> 119 -> 358 -> 179 -> 538 -> 269 -> 808 -> 404 -> 202
080 (10) : 80 -> 40 -> 20 -> 10 -> 5 -> 16 -> 8 -> 4 -> 2 -> 1
081 (10) : 81 -> 244 -> 122 -> 61 -> 184 -> 92 -> 46 -> 23 -> 70 -> 35
082 (10) : 82 -> 41 -> 124 -> 62 -> 31 -> 94 -> 47 -> 142 -> 71 -> 214
083 (10) : 83 -> 250 -> 125 -> 376 -> 188 -> 94 -> 47 -> 142 -> 71 -> 214
084 (10) : 84 -> 42 -> 21 -> 64 -> 32 -> 16 -> 8 -> 4 -> 2 -> 1
085 (10) : 85 -> 256 -> 128 -> 64 -> 32 -> 16 -> 8 -> 4 -> 2 -> 1
086 (10) : 86 -> 43 -> 130 -> 65 -> 196 -> 98 -> 49 -> 148 -> 74 -> 37
087 (10) : 87 -> 262 -> 131 -> 394 -> 197 -> 592 -> 296 -> 148 -> 74 -> 37
088 (10) : 88 -> 44 -> 22 -> 11 -> 34 -> 17 -> 52 -> 26 -> 13 -> 40
089 (10) : 89 -> 268 -> 134 -> 67 -> 202 -> 101 -> 304 -> 152 -> 76 -> 38
090 (10) : 90 -> 45 -> 136 -> 68 -> 34 -> 17 -> 52 -> 26 -> 13 -> 40
091 (10) : 91 -> 274 -> 137 -> 412 -> 206 -> 103 -> 310 -> 155 -> 466 -> 233
092 (10) : 92 -> 46 -> 23 -> 70 -> 35 -> 106 -> 53 -> 160 -> 80 -> 40
093 (10) : 93 -> 280 -> 140 -> 70 -> 35 -> 106 -> 53 -> 160 -> 80 -> 40
094 (10) : 94 -> 47 -> 142 -> 71 -> 214 -> 107 -> 322 -> 161 -> 484 -> 242
095 (10) : 95 -> 286 -> 143 -> 430 -> 215 -> 646 -> 323 -> 970 -> 485 -> 1456
096 (10) : 96 -> 48 -> 24 -> 12 -> 6 -> 3 -> 10 -> 5 -> 16 -> 8
097 (10) : 97 -> 292 -> 146 -> 73 -> 220 -> 110 -> 55 -> 166 -> 83 -> 250
098 (10) : 98 -> 49 -> 148 -> 74 -> 37 -> 112 -> 56 -> 28 -> 14 -> 7
099 (10) : 99 -> 298 -> 149 -> 448 -> 224 -> 112 -> 56 -> 28 -> 14 -> 7
100 (10) : 100 -> 50 -> 25 -> 76 -> 38 -> 19 -> 58 -> 29 -> 88 -> 44
```
